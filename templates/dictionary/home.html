{% extends 'base.html' %}

{% block title %}–†—É—Å—Å–∫–æ-–∫–∏—Ç–∞–π—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å{% endblock %}

{% block content %}
<div class="card">
    <h1>üìö –†—É—Å—Å–∫–æ-–∫–∏—Ç–∞–π—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å</h1>
    <p>–ù–∞—à —Å–ª–æ–≤–∞—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ <strong>{{ total_words }}</strong> —Å–ª–æ–≤ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º.</p>

    <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
    <div class="search-section" style="background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%); padding: 2rem; border-radius: 12px; margin: 2rem 0;">
        <h2>üîç –ü–æ–∏—Å–∫ —Å–ª–æ–≤</h2>
        <form method="get" action="{% url 'dictionary:search' %}" class="search-form">
            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                <input type="text" name="q" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞..."
                       value="{{ query }}" style="flex: 1; padding: 12px; border: 2px solid #c62828; border-radius: 8px;">
                <select name="type" style="padding: 12px; border: 2px solid #c62828; border-radius: 8px;">
                    <option value="ru-zh">–†—É—Å—Å–∫–∏–π ‚Üí –ö–∏—Ç–∞–π—Å–∫–∏–π</option>
                    <option value="zh-ru">–ö–∏—Ç–∞–π—Å–∫–∏–π ‚Üí –†—É—Å—Å–∫–∏–π</option>
                </select>
            </div>
            <button type="submit" class="btn" style="width: 100%;">–ù–∞–π—Ç–∏ —Å–ª–æ–≤–æ</button>
        </form>
    </div>
</div>

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="card">
    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–ª–æ–≤–∞—Ä—è</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px;">
        {% for level, count in words_by_hsk.items %}
        <div style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 8px;">
            <div style="font-size: 24px; font-weight: bold; color: #c62828;">{{ count }}</div>
            <div style="font-size: 14px; color: #666;">{{ level }}</div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞ -->
<div class="card">
    <h2>üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞</h2>
    <div class="word-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
        {% for word in featured_words %}
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #c62828; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
            <div style="font-weight: bold; color: #c62828;">{{ word.russian }}</div>
            <div style="font-size: 18px; margin: 5px 0;">{{ word.chinese_simplified }}</div>
            <div style="color: #666; font-size: 14px;">{{ word.pinyin }}</div>
            <a href="{% url 'dictionary:word_detail' word.id %}" style="display: block; margin-top: 10px; color: #c62828; text-decoration: none; font-size: 14px;">
                –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
            </a>
        </div>
        {% empty %}
        <p>–°–ª–æ–≤–∞ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–ª–æ–≤–∞—Ä—å.</p>
        {% endfor %}
    </div>
</div>

<!-- –£—Ä–æ–≤–Ω–∏ HSK -->
<div class="card">
    <h2>üéØ –°–ª–æ–≤–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º HSK</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-top: 20px;">
        {% for level in "123456" %}
        <a href="{% url 'dictionary:words_by_hsk' forloop.counter %}"
           class="btn"
           style="background: linear-gradient(135deg, #c62828, #e53935); text-align: center;">
            HSK {{ level }}
        </a>
        {% endfor %}
    </div>
</div>
{% endblock %}