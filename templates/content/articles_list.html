{% extends 'base.html' %}

{% block title %}–°—Ç–∞—Ç—å–∏ –æ –ö–∏—Ç–∞–µ - –ö—É–ª—å—Ç—É—Ä–∞, –¢—Ä–∞–¥–∏—Ü–∏–∏, –Ø–∑—ã–∫{% endblock %}

{% block content %}
<div class="card">
    <h1>üìñ –°—Ç–∞—Ç—å–∏ –æ –ö–∏—Ç–∞–µ</h1>
    <p>–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –æ –∫–∏—Ç–∞–π—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–µ, —Ç—Ä–∞–¥–∏—Ü–∏—è—Ö, —è–∑—ã–∫–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏. –£–≥–ª—É–±–ª—è–π—Ç–µ—Å—å –≤ –∏–∑—É—á–µ–Ω–∏–µ –ü–æ–¥–Ω–µ–±–µ—Å–Ω–æ–π –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏!</p>

    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div style="display: flex; gap: 10px; margin: 20px 0; flex-wrap: wrap;">
        <button class="btn" style="background: #2c3e50;">–í—Å–µ —Å—Ç–∞—Ç—å–∏</button>
        {% for category in categories %}
        <button class="btn" style="background: #7f8c8d;">{{ category.name }}</button>
        {% endfor %}
    </div>
</div>

<!-- –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π -->
<div class="card">
    {% for article in articles %}
    <div style="display: grid; grid-template-columns: 100px 1fr; gap: 20px; align-items: start; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee;">
        <div style="background: #3498db; color: white; width: 80px; height: 80px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
            {% if article.category.name == "–ö—É–ª—å—Ç—É—Ä–∞" %}üéé
            {% elif article.category.name == "–Ø–∑—ã–∫" %}üìö
            {% elif article.category.name == "–ò—Å—Ç–æ—Ä–∏—è" %}üèÆ
            {% elif article.category.name == "–ö—É—Ö–Ω—è" %}ü•¢
            {% else %}üìñ{% endif %}
        </div>
        <div>
            <h2>{{ article.title }}</h2>
            <p style="color: #666; margin: 10px 0;">
                üìÖ {{ article.created_at|date:"d M Y" }} |
                üè∑Ô∏è {{ article.category.name }} |
                ‚è±Ô∏è {{ article.content|wordcount|divisibleby:200 }} –º–∏–Ω —á—Ç–µ–Ω–∏—è |
                üëÅÔ∏è {{ article.views }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            </p>
            <p>{{ article.content|truncatewords:50 }}</p>
            <a href="{% url 'content:article_detail' article.id %}" class="btn">–ß–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
        </div>
    </div>
    {% empty %}
    <div style="text-align: center; padding: 40px;">
        <h3>–°—Ç–∞—Ç—å–∏ —Å–∫–æ—Ä–æ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã</h3>
        <p>–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –≤–∞—Å!</p>
    </div>
    {% endfor %}
</div>
{% endblock %}